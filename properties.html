<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Properties | MYK Real Estate</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="container">
      <div class="logo">
        <a href="index.html">MYK</a>
      </div>
      <div class="menu-toggle" id="mobile-menu">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
      <ul class="nav-menu">
        <li><a href="index.html">Home</a></li>
        <li><a href="properties.html" class="active">Properties</a></li>
        <li><a href="agents.html">Agents</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- Properties Header -->
  <section class="page-header">
    <div class="container">
      <h1>Browse Properties</h1>
    </div>
  </section>

  <!-- Property Search Filters -->
  <section class="properties-filters">
    <div class="container">
      <div class="filter-container">
        <div class="filter-row">
          <div class="filter-field">
            <label for="filter-type">Property Type</label>
            <select id="filter-type">
              <option value="all">All Properties</option>
              <option value="house">House</option>
              <option value="apartment">Apartment</option>
              <option value="condo">Condo</option>
              <option value="townhouse">Townhouse</option>
            </select>
          </div>
          <div class="filter-field">
            <label for="filter-beds">Bedrooms</label>
            <select id="filter-beds">
              <option value="any">Any</option>
              <option value="1">1+</option>
              <option value="2">2+</option>
              <option value="3">3+</option>
              <option value="4">4+</option>
              <option value="5">5+</option>
            </select>
          </div>
          <div class="filter-field">
            <label for="filter-baths">Bathrooms</label>
            <select id="filter-baths">
              <option value="any">Any</option>
              <option value="1">1+</option>
              <option value="2">2+</option>
              <option value="3">3+</option>
              <option value="4">4+</option>
            </select>
          </div>
          <div class="filter-field">
            <label for="sort-by">Sort By</label>
            <select id="sort-by">
              <option value="newest">Newest</option>
              <option value="price-asc">Price: Low to High</option>
              <option value="price-desc">Price: High to Low</option>
              <option value="sqft">Square Footage</option>
            </select>
          </div>
        </div>
        <button id="apply-filters" class="btn primary-btn">Apply Filters</button>
      </div>

      <div class="filter-results">
        <p><span id="property-count">0</span> properties found</p>
        <div class="view-options">
          <button class="view-option active" data-view="list">
            <i class="fas fa-list"></i> List
          </button>
          <button class="view-option" data-view="map">
            <i class="fas fa-map-marker-alt"></i> Map
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Properties Listing -->
  <section class="properties-listing">
    <div class="container">
      <div id="properties-grid" class="property-grid"></div>
      
      <!-- Pagination -->
      <div class="pagination" id="pagination">
        <!-- Pagination will be generated by JavaScript -->
      </div>
    </div>
  </section>

  <!-- Map View (hidden by default) -->
  <section class="map-view" id="map-view" style="display: none;">
    <div class="container">
      <div class="map-container">
        <div class="map-placeholder">
          <i class="fas fa-map-marked-alt"></i>
          <h3>Property Map View</h3>
          <p>This would show an interactive map with property locations.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>MYK</h3>
          <p>Helping you find the perfect place to call home since yesterday ðŸ˜‰. Your trusted partner in real estate.</p>
          <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-linkedin-in"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
        <div class="footer-section">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="properties.html">Properties</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="agents.html">Our Agents</a></li>
            <li><a href="#">Resources</a></li>
            <li><a href="contact.html">Contact Us</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Property Types</h3>
          <ul>
            <li><a href="properties.html?type=house">Residential Homes</a></li>
            <li><a href="properties.html?type=apartment">Apartments</a></li>
            <li><a href="properties.html?type=condo">Condos</a></li>
            <li><a href="properties.html">Luxury Homes</a></li>
            <li><a href="properties.html">Commercial Properties</a></li>
            <li><a href="properties.html">Land</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Subscribe</h3>
          <p>Subscribe to our newsletter to receive the latest property updates and market insights.</p>
          <form id="newsletter-form">
            <div class="newsletter-input">
              <input type="email" placeholder="Your email address" required>
              <button type="submit"><i class="fas fa-paper-plane"></i></button>
            </div>
          </form>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; <span id="current-year"></span> HomeHaven Real Estate. All rights reserved.</p>
        <div class="footer-links">
          <a href="#">Privacy Policy</a>
          <a href="#">Terms of Service</a>
          <a href="#">Sitemap</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Property Details Modal -->
  <div id="property-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <div id="property-details"></div>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Get URL parameters for filters
      const urlParams = new URLSearchParams(window.location.search);
      const typeParam = urlParams.get('type');
      
      if (typeParam) {
        document.getElementById('filter-type').value = typeParam;
      }
      
      // Load all properties
      const propertiesGrid = document.getElementById('properties-grid');
      if (propertiesGrid) {
        displayProperties(properties, propertiesGrid);
        document.getElementById('property-count').textContent = properties.length;
      }
      
      // Apply filters
      const applyFiltersBtn = document.getElementById('apply-filters');
      if (applyFiltersBtn) {
        applyFiltersBtn.addEventListener('click', applyFilters);
      }
      
      // Toggle view
      const viewOptions = document.querySelectorAll('.view-option');
      viewOptions.forEach(option => {
        option.addEventListener('click', function() {
          viewOptions.forEach(opt => opt.classList.remove('active'));
          this.classList.add('active');
          
          const view = this.dataset.view;
          if (view === 'list') {
            document.getElementById('map-view').style.display = 'none';
            document.querySelector('.properties-listing').style.display = 'block';
          } else {
            document.getElementById('map-view').style.display = 'block';
            document.querySelector('.properties-listing').style.display = 'none';
          }
        });
      });
    });
    
    function applyFilters() {
      const typeFilter = document.getElementById('filter-type').value;
      const bedsFilter = document.getElementById('filter-beds').value;
      const bathsFilter = document.getElementById('filter-baths').value;
      const sortBy = document.getElementById('sort-by').value;
      
      let filteredProperties = [...properties];
      
      // Apply type filter
      if (typeFilter && typeFilter !== 'all') {
        filteredProperties = filteredProperties.filter(p => p.propertyType === typeFilter);
      }
      
      // Apply beds filter
      if (bedsFilter && bedsFilter !== 'any') {
        const minBeds = parseInt(bedsFilter);
        filteredProperties = filteredProperties.filter(p => p.bedroomCount >= minBeds);
      }
      
      // Apply baths filter
      if (bathsFilter && bathsFilter !== 'any') {
        const minBaths = parseInt(bathsFilter);
        filteredProperties = filteredProperties.filter(p => p.bathroomCount >= minBaths);
      }
      
      // Apply sorting
      if (sortBy) {
        switch (sortBy) {
          case 'price-asc':
            filteredProperties.sort((a, b) => a.price - b.price);
            break;
          case 'price-desc':
            filteredProperties.sort((a, b) => b.price - a.price);
            break;
          case 'sqft':
            filteredProperties.sort((a, b) => b.squareFeet - a.squareFeet);
            break;
          default:
            // newest (default) - we'll assume id represents chronology
            filteredProperties.sort((a, b) => b.id - a.id);
        }
      }
      
      // Update property count
      document.getElementById('property-count').textContent = filteredProperties.length;
      
      // Display filtered properties
      const propertiesGrid = document.getElementById('properties-grid');
      displayProperties(filteredProperties, propertiesGrid);
    }
  </script>
</body>
</html>